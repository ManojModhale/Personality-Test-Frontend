<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css'>

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
<!-- Font Awesome CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css">
<div class="body">

<header>
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="#">Big 5 Personality Test</a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse center-links" id="navbarNav">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item">
                        <a class="btn btn-outline-light" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="btn btn-outline-light" href="/exam">Exam</a>
                    </li>
                    <li class="nav-item">
                        <a class="btn btn-outline-light" href="/dashboard">Dashboard</a>
                    </li>
                </ul>
            </div>

            <div class="ml-auto">
                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle user-icon" type="button" id="dropdownMenuButton"
                            data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="fas fa-user-circle fa-lg"></i>
                    </button>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                        <a class="dropdown-item" href="/profile">Profile</a>
                        <a class="dropdown-item" href="/editprofile">Edit Profile</a>
                        <a class="dropdown-item" href="#" onclick="logoutHandler()">Logout</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>
</header>

 <div class="container">
    <div class="col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12">
        <div class="card h-100 custom-card">
            <div class="card-body">
                <form (ngSubmit)="updateProfile()" [formGroup]="updateprof">
                <!-- Form content -->
                <div class="row gutters">
                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <h6 class="mb-2 text-primary">Personal Details</h6>
                    </div>

                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                        <div class="form-group" [ngClass]="{ 'has-danger': firstname.invalid && (firstname.dirty || firstname.touched),
                        'has-success': firstname.valid && (firstname.dirty || firstname.touched)  }">
                            <label for="firstname">First Name:</label>
                            <input type="text" class="form-control"  formControlName="firstname" id="firstname" [value]="editProfile.firstname" placeholder="Enter First Name">
                        <div class="form-control-feedback" [ngClass]="'has-danger'" *ngIf="firstname.errors && (firstname.dirty || firstname.touched)">
                                <p *ngIf="firstname.errors.required">Firstname is required</p>
                                <p *ngIf="firstname.errors?.pattern">Firstname Must be Capitalize without Space</p>
                        </div>
                        </div>
                    </div>
                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                        <div class="form-group" [ngClass]="{ 'has-danger': lastname.invalid && (lastname.dirty || lastname.touched),
                            'has-success': lastname.valid && (lastname.dirty || lastname.touched)  }">
                            <label for="lastname">Last Name:</label>
                            <input type="text" class="form-control" formControlName="lastname" [value]="editProfile.lastname"  id="lastname" placeholder="Enter Last Name">
                        <div class="form-control-feedback" [ngClass]="'has-danger'" *ngIf="lastname.errors && (lastname.dirty || lastname.touched)">
                                <p *ngIf="lastname.errors.required">Lastname is required</p>
                                <p *ngIf="lastname.errors?.pattern">Lastname Must be Capitalize without Space</p>
                            </div>
                        </div>
                    </div>

                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                        <div class="form-group" [ngClass]="{ 'has-danger': email.invalid && (email.dirty || email.touched),
                        'has-success': email.valid && (email.dirty || email.touched)  }">  
                            <label for="Email">Email:</label>
                            <input type="email" class="form-control" id="Email"  [value]="editProfile.email"  formControlName="email" placeholder="Enter Valid email address ">
                        <div class="form-control-feedback" *ngIf="email.errors && (email.dirty || email.touched)">
                                <p *ngIf="email.errors?.required">Email is required</p>
                                
                                <p *ngIf="email.errors?.email">Please enter a valid Email address</p>
                        </div>
                        </div>
                    </div>
    
                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                        <div class="form-group" [ngClass]="{ 'has-danger': mobileno.invalid && (mobileno.dirty || mobileno.touched),
                            'has-success': mobileno.valid && (mobileno.dirty || mobileno.touched)  }">
                            <label for="website">Contact Number</label>
                            <input type="url" class="form-control" formControlName="mobileno" [value]="editProfile.mobileno"  id="website" placeholder="Contact Number">
                        <div class="form-control-feedback" *ngIf="mobileno.errors && (mobileno.dirty || mobileno.touched)">
                                <p *ngIf="mobileno.errors?.required">Mobile Number is required</p>
                                
                                <p *ngIf="mobileno.errors?.pattern">Please enter a valid 10-digit Mobile Number</p>
                        </div>
                        </div>
                    </div>
                </div>
    
                <div class="row gutters">
                    
                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                        <div class="form-group" [ngClass]="{ 'has-danger': qualification.invalid && (qualification.dirty || qualification.touched),
                            'has-success': qualification.valid && (qualification.dirty || qualification.touched)  }">
                            <label for="qualification">Qualification</label>
                            <input type="text" class="form-control" formControlName="qualification" [value]="editProfile.qualification" id="qualification" placeholder="Qualification">
                        <div class="form-control-feedback" [ngClass]="'has-danger'" *ngIf="qualification.errors && (qualification.dirty || qualification.touched)">
                                <p *ngIf="qualification.errors.required">Qualification is required</p>
                        </div>
                        </div>
                    </div>
    
                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                        <div class="form-group" [ngClass]="{ 'has-danger': designation.invalid && (designation.dirty || designation.touched),
                            'has-success': designation.valid && (designation.dirty || designation.touched)  }">
                            <label for="designation">Designation</label>
                            <select class="form-select form-select-lg" [value]="editProfile.designation" id="designation" formControlName="designation">
                                <option value="" disabled>Select</option>
                                <option value="Student">Student</option>
                                <option value="Employee">Employee</option>
                                <option value="Teacher">Teacher</option>
                            </select>
                        <div class="form-control-feedback" *ngIf="designation.errors && (designation.dirty || designation.touched)">
                                <p *ngIf="designation.errors.required">Designation is required</p>
                        </div>
                        </div>
                    </div>
                 </div>
                 <div class="button-spacing">
                    <button type="button" id="cancel" name="cancel" class="btn btn-secondary">Cancel</button>
                    <button type="submit" id="update" name="update" class="btn btn-primary">Update</button>
                </div>
            </form>
            </div>
        </div>
    </div>
 </div>
<script src='https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js'></script>